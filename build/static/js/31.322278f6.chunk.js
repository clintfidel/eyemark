(this["webpackJsonpeyemark-frontend"]=this["webpackJsonpeyemark-frontend"]||[]).push([[31],{330:function(e,t,n){},664:function(e,t,n){"use strict";n.r(t),n.d(t,"Screen4",(function(){return m}));var i=n(19),c=n(0),s=n(11),a=n(205),r=n(188),l=n(29),o=n(14),d=n(665),u=n(59),j=n(328),b=n.n(j),h=(n(329),n(330),n(1));function m(e){var t,n,j=e.history,m=Object(u.a)().t,f=Object(c.useRef)(null),x=Object(c.useState)(),p=Object(i.a)(x,2),O=p[0],g=p[1],v=Object(c.useState)(!1),y=Object(i.a)(v,2),w=y[0],N=y[1],k=Object(c.useState)(!1),S=Object(i.a)(k,2),C=S[0],F=S[1],R=Object(c.useState)({unit:"%",width:80,aspect:1}),L=Object(i.a)(R,2),P=L[0],E=L[1],U=Object(c.useRef)(null),z=Object(c.useState)(null),I=Object(i.a)(z,2),A=I[0],B=I[1],D=Object(c.useState)(),J=Object(i.a)(D,2),M=J[0],H=J[1];Object(c.useEffect)((function(){if(A&&U.current&&f.current){var e=f.current,t=U.current,n=A,i=e.naturalWidth/e.width,c=e.naturalHeight/e.height,s=t.getContext("2d"),a=window.devicePixelRatio;t.width=n.width*a,t.height=n.height*a,s.setTransform(a,0,0,a,0,0),s.imageSmoothingQuality="high",s.drawImage(e,n.x*i,n.y*c,n.width*i,n.height*c,0,0,n.width,n.height)}}),[A]);var Q=Object(c.useCallback)((function(e){f.current=e}),[]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(r.a,{children:Object(h.jsxs)("title",{children:["Eyemark - ",m("auth:Upload Profile Picture")]})}),Object(h.jsx)("div",{className:"onboarding-container flex items-center justify-center placeholder",style:{backgroundImage:"url(".concat(a.c,")")},children:Object(h.jsx)("div",{className:"card px-8 py-8 overflow-hidden relative",children:w?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("div",{onClick:function(){N(!1),F(!1)},children:Object(h.jsx)(d.a,{className:"mr-3",style:{cursor:"pointer"}})}),Object(h.jsx)("p",{className:"font-medium",children:m("auth:Edit picture")})]}),Object(h.jsx)(l.a,{text:m("auth:Apply"),className:"btn-size-sm btn-no-shadow",onClick:function(){!function(e,t){if(t&&e){var n=e.toDataURL("image/jpeg");H(n)}}(U.current,A),N(!1),F(!0)}})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(b.a,{src:O,onImageLoaded:Q,crop:P,circularCrop:!0,onChange:function(e){return E(e)},onComplete:function(e){return B(e)},style:{borderRadius:"8px",height:"470px"},keepSelection:!0,locked:!0,imageStyle:{objectFit:"cover",objectPosition:"center",width:"100%",height:"470px"}}),Object(h.jsx)("canvas",{ref:U,style:{width:Math.round(null!==(t=null===A||void 0===A?void 0:A.width)&&void 0!==t?t:0),height:Math.round(null!==(n=null===A||void 0===A?void 0:A.height)&&void 0!==n?n:0),display:"none"}})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[Object(h.jsx)("img",{src:s.B,alt:"logo"}),Object(h.jsx)("div",{style:{width:"139px"},children:C?null:Object(h.jsx)(l.a,{text:m("auth:Skip for now"),className:"btn-outline btn-size-sm-h btn-no-bg",onClick:function(){return j.push("/onboarding/".concat(o.b.screen5))}})})]}),Object(h.jsx)("p",{className:"text-base font-semibold mb-2.5",children:m("auth:Upload a profile picture")}),Object(h.jsxs)("p",{className:"text-sm font-medium mb-14 w-96 subtitle",style:{color:"#4B5667"},children:["Lorem ipsum dolor sit amet, nonummy nibh euismod tincidunt ut laoreet dolore magna"," "]}),Object(h.jsx)("div",{className:"flex w-full items-center justify-center",children:Object(h.jsx)("label",{htmlFor:"upload",children:Object(h.jsxs)("div",{className:"upload-container flex items-center justify-center",children:[C?Object(h.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",position:"absolute"},src:M,alt:"profile-image",className:"cursor-pointer"}):null,Object(h.jsx)("img",{src:s.a,alt:"add",className:"cursor-pointer add-image"}),Object(h.jsx)("input",{type:"file",id:"upload",name:"upload",style:{display:"none"},accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return g(t.result)})),t.readAsDataURL(e.target.files[0]),N(!0)}}})]})})}),Object(h.jsx)("div",{className:"absolute bottom-0 inset-x-0 footer w-full h-20 px-6 flex items-center justify-end",children:C?Object(h.jsx)(l.a,{text:m("auth:Next"),className:"btn-size-sm",onClick:function(){return j.push("/onboarding/".concat(o.b.screen5))}}):null})]})})})]})}t.default=m}}]);
//# sourceMappingURL=31.322278f6.chunk.js.map